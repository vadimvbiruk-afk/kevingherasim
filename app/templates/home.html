{% extends "base.html" %}

{% block title %}kevin gerasim{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold text-emerald-400 mb-6 font-mono">Guestbook</h1>

<form method="post" class="max-w-xl space-y-4 mb-10" novalidate>
  {{ form.hidden_tag() }}
  <div>
    {{ form.username.label(class="block text-sm font-medium text-emerald-300/90 mb-1 font-mono") }}
    {{ form.username(class="w-full px-3 py-2 rounded-xl bg-black/50 border border-emerald-500/40 text-white placeholder-white/40 focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 font-mono") }}
    {% if form.username.errors %}
      <p class="mt-1 text-sm text-red-400 font-mono">{{ form.username.errors[0] }}</p>
    {% endif %}
  </div>
  <div>
    {{ form.content.label(class="block text-sm font-medium text-emerald-300/90 mb-1 font-mono") }}
    {{ form.content(class="w-full px-3 py-2 rounded-xl bg-black/50 border border-emerald-500/40 text-white placeholder-white/40 focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 font-mono resize-y") }}
    {% if form.content.errors %}
      <p class="mt-1 text-sm text-red-400 font-mono">{{ form.content.errors[0] }}</p>
    {% endif %}
  </div>
  <div>
    <button type="submit" class="glitch px-4 py-2 rounded-xl bg-emerald-600/80 text-white border border-emerald-500/50 hover:bg-emerald-500/80 cursor-pointer transition font-mono text-sm" data-text="Post">Post</button>
  </div>
</form>

{% if posts %}
  <ul class="space-y-6">
    {% for post in posts %}
      <li class="rounded-3xl bg-black/40 backdrop-blur-2xl border border-emerald-500/30 p-6 neon-border">
        <p class="text-sm text-emerald-400 font-mono mb-2">{{ post.username }} Â· {{ post.date_posted.strftime('%Y-%m-%d %H:%M') }}</p>
        <div class="text-white/90 whitespace-pre-wrap font-mono">{{ post.content }}</div>
      </li>
    {% endfor %}
  </ul>
{% else %}
  <p class="text-white/60 font-mono">No messages yet. Be the first to post.</p>
{% endif %}
{% endblock %}
